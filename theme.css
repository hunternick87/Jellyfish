/*
================================================================================
|                                                                              |
|                         JELLYFIN CUSTOM THEME                                |
|                         Main Stylesheet (theme.css)                          |
|                                                                              |
================================================================================
*/

/* ~~~~~~~~~~~~~~~~~~~~ EXTERNAL IMPORTS ~~~~~~~~~~~~~~~~~~~~ */
@import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap'); /* Quicksand Font from Google Fonts */
@import url("https://cdn.jsdelivr.net/gh/Druidblack/jellyfin-icon-metadata/public-icon.css"); /* Metadata icons by Druidblack */
@import url("https://cdn.jsdelivr.net/gh/n00bcodr/Jellyfish/fonts/materialSymbolsRounded.css");
@import url("https://cdn.jsdelivr.net/gh/n00bcodr/Jellyfish/loginpage.css");
@import url("https://cdn.jsdelivr.net/gh/n00bcodr/Jellyfish/colors/jellyblue.css");

/* ~~~~~~~~~~~~~~~~~~~~ GLOBAL CSS VARIABLES ~~~~~~~~~~~~~~~~~~~~ */
/* Defines core variables used throughout the theme for consistency. */
:root {
    --theme-updated-on: "Consolidation"; /* Date of last theme update */
    --theme-name: 'Jellyfish';
    --rounded-cards: 15px; /* Standard border-radius */
    --blur: 15px;           /* Default blur intensity */

    /* Custom button colors */
    --button-delete-bg: #942626c2;
    --button-shutdown-bg: #AE3739;
    --button-restart-bg: forestgreen;
    --button-refresh-bg: blueviolet;
    --button-cancel-bg: rgb(180 96 96);
    --button-intro-skipper-bg: rgba(30, 30, 30, 0.7);
}

/* ~~~~~~~~~~~~~~~~~~~~ GLOBAL STYLES ~~~~~~~~~~~~~~~~~~~~ */

/* Sets the font for the theme. */
body, h1, h2, h3, h4, h5, h6, p {
    font-family: 'Quicksand', sans-serif !important;
}

/* Hide scrollbars */
* {
  scrollbar-color : transparent transparent !important;
  scrollbar-width: none !important;
}

/* General button styling */
.emby-button.block, .dashboardDocument .material-icons.check:before, .displayPreferencesPage .material-icons.check:before {
    color: var(--text-color) !important;
    background-color: var(--secondary-accent-color);
}

/* Show theme date in dashboard */
.dashboardActionsContainer::before {
    content: "Theme last updated on " var(--theme-updated-on, "..........");
    display: block;
    background-color: var(--alt-accent-color);
    color: #ddd;
    border-radius: var(--rounded-cards);
    padding: 15px 15px;
    font-family: 'Quicksand', sans-serif;
    font-weight: bold;
    box-shadow: 0 1px 3px rgba(0,0,0,0.2);
    margin-bottom: 1em;
    margin-left: 2px;
}

/* Primary background for the entire page and containers without backdrops. */
html {
    background-color: var(--primary-background-color) !important;
}

.backgroundContainer:not(.withBackdrop):not(.backgroundContainer-transparent), /* Main page background, excluding when a backdrop is shown */
.noBackdropTransparency .detailPageSecondaryContainer /* Secondary container on detail pages when backdrop transparency is off */ {
    background-color: var(--secondary-background-transparent) !important;
}

.libraryDocument.withSectionTabs .backgroundContainer {
    backdrop-filter: blur(var(--blur)) !importan

t;
}

/* Secondary, often slightly transparent, backgrounds for elements like drawers, dialogs, and content sections. */
.layout-desktop .mainDrawer,
.layout-mobile .mainDrawer,
.MuiPaper-root.MuiDrawer-paperAnchorDockedLeft,
.dialog,
.programCell-active,
.channelsContainer,
.detailSectionContent,
.trackSelections,
.MuiPaper-root.MuiPopover-paper {
    background: var(--secondary-background-transparent) !important;
}

/* ~~~~~~~~~~~~~~~~~~~~ ACCENT COLOR APPLICATION ~~~~~~~~~~~~~~~~~~~~ */
/* Styles that apply the theme's accent colors to various UI elements. */

/* == Primary Accent Backgrounds == */
.emby-checkbox:checked+span+.checkboxOutline,
.selectionCommandsPanel,
.countIndicator,
.MuiButton-root.MuiButton-containedSizeMedium,
.MuiChip-root.MuiChip-colorInfo:not(.MuiChip-root.MuiChip-colorError),
progress[aria-valuenow]:before,
.button-submit,
.layout-desktop .dashboardDocument div[data-role="controlgroup"] a.ui-btn-active,
.layout-desktop #editItemMetadataPage .btnHeaderSave,
.mainDetailButtons .btnPlay,
.playbackProgress>div,
.iconOsdProgressInner {
    background: var(--primary-accent-color) !important;
}

/* == Secondary Accent Backgrounds == */
.MuiAlert-root.MuiAlert-standardInfo,
.navMenuOption-selected,
.MuiListItemButton-root.Mui-selected,
.jstree-default .jstree-wholerow-clicked {
    background: var(--secondary-accent-color) !important;
}

.MuiMenu-paper {
    background: var(--secondary-background-transparent) !important;
    backdrop-filter: blur(var(--blur)) !important;
}

.formDialogHeader,
.formDialogFooter {
    background: var(--secondary-accent-color) !important;
    backdrop-filter: blur(25px) !important;
}
.formDialogHeader h3 {
    font-weight: 800;
}

.formDialogContent {
    background: var(--secondary-background-transparent) !important;
}

.iconOsdProgressOuter {
    background: #ffffffc0 !important;
}

.listItemIcon:not(.listItemIcon-transparent, .notification_important) {
    color: #ffffff !important;
    background-color: var(--secondary-accent-color) !important;
}

/* == Accent Color for Progress Bars == */
progress::-webkit-progress-value,
.itemProgressBarForeground,
.mdl-slider-background-lower {
    background: var(--primary-accent-color) !important;
}

.itemProgressBar {
    background: rgba(var(--primary-r), var(--primary-g), var(--primary-b), 0.2) !important;
}

/* == Accent Color for Borders == */
.emby-checkbox:checked+span+.checkboxOutline,
.emby-checkbox:focus:not(:checked)+span+.checkboxOutline,
.emby-input:focus,
.emby-textarea:focus,
.emby-select-withcolor:focus,
.mdl-spinner__layer-1,
.mdl-spinner__layer-2,
.mdl-spinner__layer-3,
.mdl-spinner__layer-4,
.progressring-spiner {
    border-color: var(--primary-accent-color) !important;
}

/* == Accent Color for Text & Icons == */
.button-link:not(.itemDetailPage .button-link),
.selectLabelFocused,
.textareaLabelFocused,
.inputLabelFocused,
.metadataSidebarIcon,
.upNextDialog-countdownText,
.MuiSvgIcon-root.MuiSvgIcon-fontSizeInherit,
.listItemImageButton:hover,
.button-flat:hover,
#divRunningTasks span,
.username,
.headerUsername,
.sectionTitle,
.navMenuOption:hover:not(.navMenuOption-selected) {
    color: var(--primary-accent-color) !important;
}

.MuiListItemButton-root.Mui-selected .MuiListItemIcon-root,
.MuiListItemButton-root.Mui-selected {
    color: #ffffff !important;
}


/* == Accent Color for Hover Effects (Fine Pointer Devices) == */
@media (hover: hover) and (pointer: fine) {
    .paper-icon-button-light:hover:not(:disabled) {
        color: var(--primary-accent-color) !important;
        background-color: transparent !important;
    }
}

.paper-icon-button-light:active:not(:disabled) {
    color: var(--primary-accent-color) !important;
    background-color: transparent !important;
}

/* == Accent Color for Dashboard Headings == */
.dashboardSection h3 {
 color: var(--primary-accent-color);
 font-weight: bold !important;
}

.dashboardSection span.material-icons.chevron_right {
    display: none;
}
/* == Hover Color for Movie Card Overlays == */
.card-hoverable:hover .cardOverlayContainer {
    background: var(--secondary-background-transparent);
}

.cardOverlayContainer > .cardOverlayFab-primary {
    background-color: transparent !important;
    color: var(--primary-accent-color) !important;
}

/* Hide watched and favorite buttons on card hover */
.cardOverlayButtonIcon:is(.playstatebutton-icon-unplayed, .playstatebutton-icon-played, .favorite) {
    display: none !important;
}

/* ~~~~~~~~~~~~~~~~~~~~ SPECIFIC ELEMENT BACKGROUNDS (NON-ACCENT) ~~~~~~~~~~~~~~~~~~~~ */

#btnDeleteImage {
    background: var(--button-delete-bg) !important;
}
#btnShutdown {
    background: var(--button-shutdown-bg) !important;
}
#btnRestartServer {
    background: var(--button-restart-bg) !important;
}
button.raised.btnRefresh.emby-button, .button-reset {
    background: var(--button-refresh-bg) !important;
}
#skipIntro .emby-button {
    background: var(--button-intro-skipper-bg) !important;
}
#btnCancel, #btnResetPassword, .button-cancel {
    background: var(--button-cancel-bg) !important;
}


/* ~~~~~~~~~~~~~~~~~~~~ DYNAMIC BACKGROUNDS (ACTIVE DEVICES) ~~~~~~~~~~~~~~~~~~~~ */
.defaultCardBackground1 { background-color: var(--primary-alt1) !important; }
.defaultCardBackground2 { background-color: var(--primary-alt2) !important; }
.defaultCardBackground3 { background-color: var(--primary-alt3) !important; }
.defaultCardBackground4 { background-color: var(--primary-alt4) !important; }
.defaultCardBackground5 { background-color: var(--primary-alt5) !important; }

/* ~~~~~~~~~~~~~~~~~~~~ LAYOUT - GENERAL ~~~~~~~~~~~~~~~~~~~~ */

/* == Poster Card Size Reduction (Landscape) == */
@media (min-width: 50em) and (orientation: landscape) {
    .overflowPortraitCard {
        width: 15% !important;
    }
}

/* == Rounded Progress Bars == */
progress,
progress::-webkit-progress-bar,
progress::-webkit-progress-value {
    border-radius: var(--rounded-cards) !important;
    overflow: hidden;
}

/* == Default Logo Styling == */
.pageTitleWithDefaultLogo {
    background-image: var(--logo) !important;
    background-size: 100% !important;
}
.layout-tv .pageTitleWithLogo, .layout-desktop .pageTitleWithLogo {
    margin-left: 25px !important;
    height: 60px !important;
    width: 140px !important;
}
.layout-mobile .pageTitleWithLogo {
    height: 30px !important;
    width: 100px !important;
    margin: 0 1em 0 .5em !important;
    padding: 10px !important;
}
[dir="ltr"] .pageTitle {
    margin: 0 1em 0 .5em !important;
}
[dir="ltr"] .pageTitle:not(.pageTitleWithLogo):empty {
    margin: 0 !important;
}

/* == Dialog Styling == */
.dialog {
    background-color: var(--secondary-background-color) !important;
    border-radius: var(--rounded-cards) !important;
    border: 1px solid var(--alt-accent-color);
}
.actionSheetTitle {
    margin: 10px 20px !important;
}

.actionSheetMenuItem.emby-button:hover, .listItem:hover {
    background-color: var(--secondary-accent-color) !important;
    border-radius: var(--rounded-cards) !important;
}

.actionSheetContent {
    background: var(--secondary-background-transparent) !important;
    backdrop-filter: var(--blur) !important;
    border-radius: var(--rounded-cards) !important;
}

/* == Cast & Crew Card Size == */
/* Small mobile devices */
@media (min-width: 25em) {
    .layout-mobile #castContent .card.overflowPortraitCard,
    .layout-mobile #guestCastContent .card.overflowPortraitCard {
        width: 30% !important;
        font-size: 90% !important;
    }
}
/* iPads in portrait */
@media (min-width: 50em) and (orientation: portrait) {
    .layout-mobile #castContent .card.overflowPortraitCard,
    .layout-mobile #guestCastContent .card.overflowPortraitCard  {
        width: 18% !important;
        font-size: 90% !important;
    }
}
/* iPads/tablets in landscape */
@media (min-width: 50em) and (orientation: landscape) {
    .layout-mobile #castContent .card.overflowPortraitCard,
    .layout-mobile #guestCastContent .card.overflowPortraitCard {
      width: 12% !important;
      font-size: 90% !important;
    }
}
/* Desktop cast and crew card size. */
.layout-desktop #castContent .card.overflowPortraitCard,
.layout-desktop #guestCastContent .card.overflowPortraitCard {
    width: 10em !important;
}

/* ~~~~~~~~~~~~~~~~~~~~ LAYOUT - HEADER ~~~~~~~~~~~~~~~~~~~~ */

.skinHeader {
    background-color: transparent !important;
}
.layout-desktop .skinHeader,
.layout-tv .skinHeader {
    padding-top: 1.5em !important;
}
.layout-tv .skinHeader {
    padding-bottom: 10px !important;
}

.headerTabs,
.headerRight {
    background: var(--header-background-color) !important;
    border-radius: 100px !important;
    color: var(--secondary-background-color) !important;
    backdrop-filter: blur(50px) !important;
    box-shadow: 1px 3px 6px rgba(var(--secondary-background-color),.5);
}

.headerRight .paper-icon-button-light:hover,
.headerRight .paper-icon-button-light:hover:not(:disabled),
.headerRight .paper-icon-button-light:focus,
.headerRight .paper-icon-button-light:focus:not(:disabled) {
    color: var(--primary-accent-color) !important;
}

.homeLibraryText,
.emby-button-foreground {
	color: var(--secondary-background-color) !important;
    transition: color 0.2s ease;
    top: unset !important;
    position: relative;
}

#indexPage .homeLibraryButton,
.emby-tab-button {
	background: transparent !important;
	min-width: 0 !important;
	max-width: 50vw !important;
    width: fit-content !important;
    transition: background-color 0.2s ease;
    border-radius: 100px !important;
}
.layout-desktop .homeLibraryButton,
.layout-desktop .emby-tab-button {
	margin: .5em !important;
}

.raised:hover .homeLibraryText,
.emby-tab-button:hover .emby-button-foreground {
	color: var(--text-color) !important;
	transition: color 0.2s ease;
}
#indexPage .homeLibraryButton:hover,
.emby-tab-button:hover {
	border-radius: 100px !important;
	background-color: var(--primary-accent-color) !important;
}
.raised.homeLibraryButton.emby-button:hover,
.emby-tab-button:hover,
.homeLibraryButton:focus {
	outline: none !important;
	box-shadow: none !important;
}
.emby-tab-button:hover::after {
    background: unset !important;
}

.emby-tab-button-active {
  background-color: var(--primary-accent-color) !important;
  border-radius: 100px !important;
  color: var(--text-color) !important;
}
.emby-tab-button-active > .emby-button-foreground {
  color: var(--text-color) !important;
}

.layout-tv .headerTabs, .layout-desktop .headerTabs {
    margin-bottom: 10px !important;
    margin-left: 60px !important;
    margin-top: -58px !important;
    font-size: 12px !important;
}
.layout-tv .headerRight, .layout-desktop .headerRight {
    height: 45px !important;
    padding: 0px 5px !important;
    position: absolute !important;
    right: 12px !important;
}
.layout-tv .emby-tab-button {
    height: 40px !important;
	font-size: 15px;
}
.emby-tab-button {
    height: 30px !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    padding: 0 15px !important;
}

.layout-desktop .headerLeft:not(.libraryDocument:has(.videoPlayerContainer) .headerLeft) {
    padding: 2px !important;
    top: -3px !important;
    border-radius: 5px !important;
    flex-grow: 0 !important;
    -webkit-flex-grow: 0 !important;
}
@supports not selector(:has(*)) {
    .layout-desktop .headerLeft {
        padding: 2px !important;
        top: -3px !important;
        background-color: var(--primary-background-transparent) !important;
        border-radius: 50px !important;
    }
}

.layout-mobile .emby-button-foreground {
    text-shadow: -2px 2px 12px #000000eb !important;
}

/* ~~~~~~~~~~~~~~~~~~~~ LAYOUT - MAIN DRAWER (SIDEBAR) ~~~~~~~~~~~~~~~~~~~~ */

.layout-desktop .mainDrawer:not(.dashboardDocument) {
    left: -320px !important;
    z-index: 1099 !important;
    border-top-right-radius : 30px !important;
    border-bottom-right-radius : 30px !important;
    backdrop-filter: blur(30px) !important;
    width: 275px !important;
    transition: transform .24s ease-out,left .26s ease-out,-webkit-transform .24s ease-out !important;
}
.layout-desktop .mainDrawerButton:not(.dashboardDocument) {
    display: inline-flex !important;
}
.layout-desktop .libraryPage:not(#editItemMetadataPage),
.quickConnectSettingsContainer,
.layout-desktop .appfooter {
    margin-left: 0px !important;
}

.layout-mobile .mainDrawer {
    width: 250px !important;
    backdrop-filter: blur(50px) !important;
	border-top-right-radius : 30px !important;
    border-bottom-right-radius : 30px !important;
}
.layout-mobile .mainDrawer-scrollContainer {
    margin-top: 15px !important;
}

.layout-desktop .mainDrawer-scrollContainer {
    margin-top: 15px !important;
    margin-left: 10px !important;
}
.layout-desktop .dashboardDocument .mainDrawer-scrollContainer {
    padding-top: 75px !important;
    margin-left: 10px !important;
    background: var(--secondary-background-color) !important;
}

.css-fknfom {
    background: none !important;
    box-shadow: none !important;
}

.navMenuOption,
.navMenuOption:hover,
.navMenuOption-selected {
    width: 85% !important;
    margin: auto !important;
    text-align: center !important;
    height: 45px !important;
    margin-top: 3px !important;
    margin-bottom: 3px !important;
    border-radius: 10px !important;
    transition: .2s !important;
    text-shadow: 0px 0px 5px var(--text-color);
}
.navMenuOption:hover:not(.navMenuOption-selected) {
    background-color: rgba(44, 44, 44, 0.7);
    transform: scale(1.05) !important;
    color: var(--primary-accent-color) !important;
}
.navMenuOption-selected {
    background: var(--secondary-accent-color) !important;
    color: var(--primary-accent-color) !important;
}

.navMenuOptionIcon,
.navMenuOptionText {
    position: inherit !important;
    right: 10% !important;
    margin-top: 0 !important;
}

.layout-desktop .hide-scroll .mainDrawer,
.layout-desktop .hideMainDrawer .mainDrawer {
    left: -320px !important;
}
.layout-desktop .dashboardDocument .mainDrawer {
    top: 0px !important;
    left: 0px !important;
    width: 300px !important;
    z-index: 998 !important;
    background: var(--secondary-background-color) !important;
    border-radius: 0 !important;
    transition: none !important;
}
.layout-desktop .dashboardDocument .mainAnimatedPage {
    left: 280px !important;
}

.layout-desktop div#dashboardPage {
    left: 260px !important;
}

.localUsers .cardText-secondary {
    height: 4em !important;
    font-size: 10px;
}

#devicesPage .cardScalable, #mediaLibraryPage .cardScalable {
  height: 10vh;
}

/* ~~~~~~~~~~~~~~~~~~~~ LAYOUT - MOBILE & TV HEADER ~~~~~~~~~~~~~~~~~~~~ */

.layout-mobile .skinHeader,
.layout-tv .skinHeader {
    transition: .5s !important;
}
.layout-mobile .headroom--unpinned,
.layout-tv .headroom--unpinned {
    transform: none;
}
.layout-mobile .headroom--unpinned:has(.headerTabs.sectionTabs:not(.hide)),
.layout-tv .headroom--unpinned:has(.headerTabs.sectionTabs:not(.hide)) {
    transform: translateY(-50%);
}
.layout-mobile .headroom--not-top,
.layout-tv .headroom--not-top {
    background: var(--secondary-background-transparent) !important;
    backdrop-filter: blur(var(--blur)) !important;
}

.layout-mobile .headroom--top,
.layout-tv .headroom--top,
.layout-mobile .headroom--not-top:has(.headerTabs.sectionTabs:not(.hide)),
.layout-tv .headroom--not-top:has(.headerTabs.sectionTabs:not(.hide)) {
    background: transparent !important;
    backdrop-filter: none !important;
}
.layout-mobile .headroom--top .headerRight,
.layout-tv .headroom--top .headerRight {
    background: var(--header-background-color) !important;
    border-radius: 100px !important;
    backdrop-filter: blur(50px) !important;
    box-shadow: 1px 3px 6px rgba(var(--secondary-background-color),.5);
    color: var(--secondary-background-color) !important;
    height: 40px !important;
    padding: 0 10px !important;
}
.layout-mobile .headerTabs,
.layout-tv .headerTabs {
    background-color: rgba(207, 221, 233, 0.35) !important;
    border-radius: 100px !important;
    height: 40px !important;
    font-size: 12px !important;
    margin-left: auto !important;
    margin-right: auto !important;
    width: auto !important;
    max-width: 100% !important;
    backdrop-filter: blur(50px) !important;
    box-shadow: 1px 3px 6px rgba(var(--secondary-background-color),.5);
    color: var(--secondary-background-color) !important;
}
.layout-mobile .emby-tab-button,
.layout-tv .emby-tab-button {
    height: 40px !important;
}

/* == Mobile Header - Small Screen Adjustments (< 380px width) == */
@media (max-width: 380px) {
    .layout-mobile .pageTitle:not(.pageTitleWithLogo):not(:empty) {
        position: absolute !important;
        margin-left: 50% !important;
        transform: translate(-50%, 0) !important;
        top: 60px !important;
    }
    .layout-mobile .headerTop:has(.pageTitle:not(.pageTitleWithLogo):not(:empty)) {
        -webkit-align-items: start !important;
        align-items: start !important;
    }
    .layout-mobile .skinHeader:has(.pageTitle:not(.pageTitleWithLogo):not(:empty)) {
        height: 110px !important;
    }
    .layout-mobile .skinHeader:has(.pageTitle:not(.pageTitleWithLogo):not(:empty)):has(.sectionTabs:not(.hide)) {
        height: 140px !important;
    }
    .layout-mobile .libraryPage:not(.noSecondaryNavPage) {
        padding-top: 9.5em !important;
    }
    .layout-mobile .headroom--unpinned:has(.headerTabs.sectionTabs:not(.hide)):has(.pageTitle:not(.pageTitleWithLogo):not(:empty)) {
        transform: translateY(-60%);
    }
}

/* ~~~~~~~~~~~~~~~~~~~~ LAYOUT - CONTENT AREA ~~~~~~~~~~~~~~~~~~~~ */

.emby-scroller {
    margin-right: 3.3% !important;
}

.layout-desktop .collectionItems .collectionItemsContainer {
    padding-left: 0% !important;
}

/*
div.nextUpSection {
    display: none;
}
*/

#seriesScheduleList,
#seriesScheduleSection {
    display: none !important;
}

.separator-icon {
    color: var(--primary-accent-color) !important;
    font-size: 2vh !important;
}


/* ~~~~~~~~~~~~~~~~~~~~ CARDS & LIST ITEMS ~~~~~~~~~~~~~~~~~~~~ */

.card,
.cardBox,
.cardScalable,
.cardPadder,
.cardImageContainer,
.blurhash-canvas,
.cardContent,
.cardOverlayContainer {
    border-radius: var(--rounded-cards) !important;
    overflow: hidden !important;
}

.itemSelectionPanel {
    border: none !important;
    background-color: transparent !important;
    border-radius: var(--rounded-cards) !important;
}

.checkboxOutline.multiSelectCheckboxOutline {
    width: 100% !important;
    height: 100% !important;
}
.checkboxOutline {
    border-radius: var(--rounded-cards) !important;
}
.emby-checkbox:checked+span+.checkboxOutline.multiSelectCheckboxOutline {
	background: rgba(var(--primary-r), var(--primary-g), var(--primary-b), 0.5) !important;
    border: 5px solid var(--primary-accent-color) !important;
    backdrop-filter: var(--blur) !important;
}

.itemSelectionPanel .material-icons.check:before {
    content: 'check';
    font-size: 5em !important;
    color: white !important;
    text-shadow: 0 0 15px rgba(0,0,0,0.7);
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

.cardText-secondary+.itemSelectionPanel>.checkboxContainer, .cardText.cardTextCentered:not(.cardText-secondary,.cardText-first)+.itemSelectionPanel>.checkboxContainer {
    height: calc(100% - 3em);
}

.itemSelectionPanel .checkboxContainer {
    height: calc(100% - 1.5em);
}
.cardPadder {
  background: none !important;
}

.cardBox {
    border-radius: var(--rounded-cards) !important;
}
.paperList {
    border-radius: var(--rounded-cards) !important;
}
.layout-desktop .listItem,
.layout-tv .listItem {
    padding-inline: 15px !important;
    transition: .2s !important;
    border-radius: var(--rounded-cards) !important;
}

#childrenContent .listItem {
    padding: 1em !important;
    border-radius: 28px !important;
}


@media (orientation: portrait) {
    .layout-mobile .listItemImage {
        min-height: 5em !important;
    }
}

.listItemImageButton:hover {
    background: none !important;
    translate: 0 -3px !important;
}

.listItemImageButton{
    background: none !important;
    color: white !important
}

.layout-mobile #childrenContent .listItem {
    margin-right: 2em !important;
}

.listItem-content {
    align-items: flex-start !important;
}
.playstatebutton-icon-played {
    color: lawngreen !important;
}


.listItem {
    transition: background 0.2s ease, box-shadow 0.2s ease, translate 0.2s ease !important;
}

.listItem:hover {
    background: var(--alt-accent-color) !important;
    translate: 0 -3px !important;
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25) !important;
}


div.card-withuserdata.card-hoverable.card:hover > .cardBox-bottompadded.cardBox > .cardScalable,
div.groupedCard.card-hoverable.overflowSquareCard.card:hover > .cardBox-bottompadded.cardBox > .cardScalable,
div.card-hoverable.squareCard.card:hover > .cardBox-bottompadded.cardBox > .cardScalable {
    border: 2px solid var(--primary-accent-color) !important;
    box-shadow: 0 0 3px rgba(255, 255, 255, .5) !important;
}
div.card-withuserdata.card-hoverable.card:hover > .cardBox-bottompadded.cardBox > .cardScalable::before,
div.groupedCard.card-hoverable.overflowSquareCard.card:hover > .cardBox-bottompadded.cardBox > .cardScalable::before,
div.card-hoverable.squareCard.card:hover > .cardBox-bottompadded.cardBox > .cardScalable::before {
    content: "";
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background-color: rgba(31, 31, 31, 0.4);
    z-index: -1;
    border-radius: var(--rounded-cards);
}
div.card-withuserdata.card-hoverable.card,
div.groupedCard.card-hoverable.overflowSquareCard.card,
div.card-hoverable.squareCard.card {
    position: relative;
}

a.emby-button.homeLibraryButton.raised {
    position: relative;
    box-sizing: border-box;
    border: 2px solid transparent;
    transition: background-color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
}
a.emby-button.homeLibraryButton.raised:hover {
    border-color: var(--primary-accent-color) !important;
    background-color: rgba(255, 255, 255, 0.1) !important;
}
a.emby-button.homeLibraryButton.raised:hover::before {
    content: "";
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background-color: rgba(31, 31, 31, 0.2);
    z-index: 1;
    transition: background-color 0.1s ease;
    border-radius: 18px;
}

.listItemImage {
    background-size: cover !important;
    border-radius: var(--rounded-cards);
    max-height: fit-content;
    min-height: 10em !important;
}

.playedIndicator {
    background: #48b648 !important;
    color: white
}

.countIndicator {
    color: var(--text-color) !important;
}


@media (min-width: 1200px) {
    .playedIndicator, .indicator {
        border-radius: 10px !important;
        width: 30px;
        height: 30px;
    }
    .mediaSourceIndicator {
        background: var(--primary-accent-color) !important;
        border-radius: 10px !important;
        width: 30px;
        height: 30px;
        color: var(--secondary-background-color);
        display: flex;
        align-items: center;
        justify-content: center;
    }
}
@media (max-width: 1199px) {
    .mediaSourceIndicator {
        border-radius: 0 !important;
        background: #00000085 !important;
    }
}
/* ~~~~~~~~~~~~~~~~~~~~ SEARCH & FILTERING ~~~~~~~~~~~~~~~~~~~~ */

.alphaPickerButton {
    color: #888 !important;
    font-weight: 600;
    transition: color 0.2s ease, transform 0.2s ease !important;
}

.alphaPickerButton:hover {
    color: #fff !important;
    transform: scale(1.1) !important;
}

.alphaPickerButton-selected {
    color: var(--primary-accent-color) !important;
    transform: scale(1.2) !important;
}
/* ~~~~~~~~~~~~~~~~~~~~ DETAILS PAGE ~~~~~~~~~~~~~~~~~~~~ */

.layout-desktop .detailImageContainer .card {
    top: 9em !important;
    width: 18.3vw !important;
}

.layout-desktop .detailSection {
    margin-right: 0 !important;
}
.layout-desktop .detailPageContent {
    padding-left: 3.3% !important;
}

.detailLogo {
    position: absolute !important;
    width: auto !important;
    z-index: 3;
    animation: slideInLogo 0.8s ease-out;
}
.layout-desktop .detailLogo,
.layout-tv .detailLogo {
    right: 0 !important;
    left: 4% !important;
    top: 10% !important;
    max-width: 30%;
    max-height: 30%;
    height: 800px !important;
}

.detailRibbon {
    background: transparent !important;
}

h3.tagline {
    margin-top: 1.5em !important;
    border-left: 0.25em solid white;
    padding: 0 0.5em;
}

.itemTags.focuscontainer-x {
    display: none;
}

.mainDetailButtons {
    margin-top: 1.5em;
}

.layout-tv .detailsGroupItem, .layout-desktop .detailsGroupItem {
    padding: 5px 15px !important;
    width: fit-content !important;
    max-width: max-content !important;
    display: flex;
    gap: 1em;
}

.detailsGroupItem .label,
.trackSelections .selectContainer .selectLabel {
    min-width: 75px;
    flex-basis: unset;
    margin: unset;
}

.detailsGroupItem .content {
    padding: 0 10px;
    margin-left: 10px !important;
}

.itemDetailsGroup:has(.detailsGroupItem:not(.hide)) {
    background: var(--secondary-background-transparent) !important;
    padding: 10px 0px 0px 0px !important;
    border-radius: var(--rounded-cards) !important;
    max-width: 100% !important;
    backdrop-filter: blur(var(--blur)) !important;
}

.layout-mobile .itemDetailsGroup:has(.detailsGroupItem:not(.hide)),
.layout-tv .itemDetailsGroup:has(.detailsGroupItem:not(.hide)) {
    padding: 10px 20px 1px !important;
}

.detailSectionContent {
    background: var(--secondary-background-transparent) !important;
    border-radius: var(--rounded-cards) !important;
    padding: 10px 20px !important;
}

.layout-desktop .detailSectionContent {
    padding: 40px 20px 0px 20px !important;
    margin-top: 40px !important;
}

.trackSelections {
    border-radius: var(--rounded-cards) !important;
    padding: 10px 20px !important;
    margin-top: 20px !important;
    max-width: 100% !important;
}

.trackSelections .selectContainer .detailTrackSelect {
    padding: 0 10px;
    margin-left: 10px !important;
    border: none !important;
    max-width: 70em !important;
    width: 70em !important;
}

.detailSection .trackSelections .selectArrowContainer {
    display: none;
}

.trackSelections>.selectContainer {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
}

.trackSelections>.selectContainer:hover {
    overflow: auto;
    white-space: normal;
    text-overflow: initial;
}

.layout-desktop .infoWrapper {
    margin-top: 245px !important;
    margin-left: 20.8vw !important;
}
.layout-desktop .detailPagePrimaryContainer {
    padding-left: 3.3% !important;
}
.layout-desktop .nameContainer {
    position: absolute !important;
    margin-top: -48px !important;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
}
.layout-desktop .itemMiscInfo {
    position: absolute !important;
    margin-left: 12px !important;
    margin-top: 10px !important;
}

.layout-desktop .detailPagePrimaryContent {
    padding-left: 20.4vw !important;
}

.layout-desktop .detailPageWrapperContainer:has(.detailImageContainer .portraitCard) .detailPagePrimaryContent {
    min-height: 29vw !important;
}
.layout-desktop .detailPageWrapperContainer:has(.detailImageContainer .squareCard) .detailPagePrimaryContent {
    min-height: 20vw !important;
}
.layout-desktop .detailPageWrapperContainer:has(.detailImageContainer .backdropCard) .detailPagePrimaryContent {
    min-height: 12vw !important;
}
@supports not selector(:has(*)) {
    .layout-desktop .detailPageWrapperContainer .detailPagePrimaryContent {
        min-height: 29vw !important;
    }
}

.layout-mobile #itemDetailPage:has(div.detailImageContainer .cardImageIcon.person) .detailPageWrapperContainer:has(.itemMiscInfo.itemMiscInfo-primary.hide) p.overview.detail-clamp-text,
.layout-tv #itemDetailPage:has(div.detailImageContainer .cardImageIcon.person) .detailPageWrapperContainer:has(.itemMiscInfo.itemMiscInfo-primary.hide) p.overview.detail-clamp-text {
    margin-top: 0%;
}

.detailPageWrapperContainer:has(.itemMiscInfo.itemMiscInfo-primary.hide) p.overview.detail-clamp-text {
    margin-top: -3%;
}


.detailSection {
    display: flex;
    flex-direction: column;
}
.detailSection .detailSectionContent { order: 1; }
.detailSection .recordingFields    { order: 2; }
.detailSection .trackSelections    { order: 3; }
.detailSection .itemDetailsGroup   { order: 4; }

.layout-desktop .nameContainer .parentName { order: 1; }
.layout-desktop .nameContainer .itemName   { order: 2; }

.layout-desktop .nameContainer .itemName.infoText.subtitle {
    margin: .8em 12px !important;
    padding: 0px !important;
}

.nameContainer .itemName.originalTitle {
    display: none;
}

.itemDetailsGroup:has(.detailsGroupItem:not(.hide)) {
    padding: 10px 40px 0px 0px !important;
}

.nameContainer:has(.itemName.subtitle) .parentName {
    display: none !important;
}

.layout-desktop .nameContainer .itemName.infoText.subtitle {
    margin: 5px 0px !important;
    padding: 0px !important;
    font-weight: bolder;
    font-size: x-large;
}


.mainDetailButtons .btnPlay::after {
    content: "Play?" !important;
}
.layout-tv .mainDetailButtons .btnPlay,
.layout-desktop .mainDetailButtons .btnPlay {
    padding-right: 20px !important;
    margin-right: 0 !important;
    right: 0 !important;
    color: var(--text-color) !important;
    border-radius: var(--rounded-cards) !important;
}
.layout-mobile .mainDetailButtons .btnPlay,
.layout-tv .mainDetailButtons .btnPlay {
    position: relative !important;
    padding-right: auto !important;
    right: auto !important;
    color: var(--secondary-background-color) !important;
    padding-top: 10px !important;
    border-radius: var(--rounded-cards) !important;
}
.mainDetailButtons .btnPlay:hover  {
    filter: brightness(120%);
    box-shadow: 0px 0px 15px 2px rgba(255, 255, 255, .5) !important;
}
.mainDetailButtons .detailButton {
    -webkit-flex-direction: row !important;
    flex-direction: row !important;
}

.recordingFields {
    margin: 5px 0 -7px 0 !important;
}
.recordingButton {
    height: 40px !important;
}
.recordingIcon {
    color: red !important;
}
.itemMiscInfo.itemMiscInfo-secondary {
    margin-left: 65px !important;
}

.detailLogo {
    animation: slideInLogo 0.8s ease-out;
}
@keyframes slideInLogo {
    0% { transform: translateY(-50px); opacity: 0; }
    60% { transform: translateY(10px); opacity: 1; }
    100% { transform: translateY(0); }
}
.detailPagePrimaryContainer {
    animation: fadeSlideIn 1.5s ease-in-out;
}
@keyframes fadeSlideIn {
    0% { opacity: 0; transform: translateY(10px); }
    100% { opacity: 1; transform: translateY(0); }
}
.button-flat:hover, .button-link:hover {
    transform: scale(1.1);
    transition: transform 0.2s ease-in-out;
}
.starRatingContainer:hover .starIcon {
    animation: spin 1s ease-in-out;
}
@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

.mediaInfoItem.mediaInfoCriticRating:hover {
    transform: scale(1.1) rotate(-5deg);
    transition: transform 0.2s ease-in-out;
}


/* ~~~~~~~~~~~~~~~~~~~~ PLAYER & UP NEXT DIALOG ~~~~~~~~~~~~~~~~~~~~ */

.upNextContainer:not(#skipIntro),
.sliderBubble {
    backdrop-filter: blur(var(--blur)) !important;
    border-radius: var(--rounded-cards) !important;
}
.upNextContainer:not(#skipIntro) {
    background-color: rgba(0, 0, 0, 0.6) !important;
    margin: 4% !important;
}
.toastVisible {
    background-color: var(--primary-background-transparent) !important;
    backdrop-filter: blur(25px) !important;
    border-radius: 18px !important;
    text-shadow: 2px 2px black;
}
.sliderBubble {
    background-color: var(--secondary-background-transparent) !important;
}
.sliderBubble:not(.osdVolumeSliderContainer .sliderBubble):has(.chapterThumbContainer) {
    background-color: #ffffff00 !important;
    top: 25px !important;
    backdrop-filter: unset !important;
}

.osdHeader .headerButton:not(.headerBackButton):not(.headerCastButton):not(.headerSyncButton) {
    display: none !important;
}

.mdl-slider-background-flex {
    height: 10px !important;
    margin-top: -5px !important;
    border-radius: 100px !important;
    background: hsla(0, 0%, 100%, .2) !important;
}
.mdl-slider-background-lower {
    border-radius: 100px !important;
    background-color: var(--primary-accent-color) !important;
}
.mdl-slider-background-upper {
    border-top-right-radius: 100px !important;
    border-radius: 100px !important;
    border-bottom-right-radius: 100px !important;
    background: hsla(0, 0%, 100%, .2) !important;
    transform: translateX(-3px) !important;
}

.mdl-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    background: transparent !important;
    height: 0px !important;
    width: 0px !important;
    border-radius: 0px !important;
    border: none;
    cursor: pointer;
    margin-top: 0px;
}

.mdl-slider::-moz-range-thumb {
    background: transparent !important;
    height: 0px !important;
    width: 0px !important;
    border-radius: 0px !important;
    border: none;
    cursor: pointer;
}

.mdl-slider::-ms-thumb {
    background: transparent !important;
    height: 0px !important;
    width: 0px !important;
    border-radius: 0px !important;
    border: none;
    cursor: pointer;
    margin-top: 0px;
}

.mdl-slider-hoverthumb:hover::-webkit-slider-thumb {
    background: transparent !important;
}

.mdl-slider-hoverthumb:hover::-moz-range-thumb {
    background: transparent !important;
}

.upNextDialog-buttons .upNextDialog-button {
    transition: .2s !important;
}
.upNextDialog-buttons .upNextDialog-button:hover {
    transform: scale(1.1);
}

.material-icons.fast_rewind::before { content: "\e059"; }
.material-icons.fast_forward::before { content: "\e057"; }

.btnPip {
    display: none !important;
}

.osdControls .btnUserRating {
    display: none !important;
}

/* ~~~~~~~~~~~~~~~~~~~~ PLUGIN SUPPORT ~~~~~~~~~~~~~~~~~~~~ */

/* == Jellyscrub Plugin == */
.chapterThumbContainer {
    background: none !important;
    border-radius: var(--rounded-cards) !important;
    box-shadow: unset !important;
}
.chapterThumb {
    border-radius: var(--rounded-cards) !important;
    margin-bottom: 47px !important;
    box-shadow: 0 0 1.9vh #000 !important;
}
.chapterThumbTextContainer {
    background: none !important;
}
.chapterThumbText {
    text-align: center !important;
}
.chapterThumbText-dim {
    display: none !important;
}

/* == IntroSkipper Plugin == */
.skip-button {
    background: var(--primary-accent-color) !important;
    color: var(--text-color) !important;
    margin-right: 5% !important;
    border-radius: var(--rounded-cards) !important;
}

.skip-button:hover {
    transform: scale(1.05);
    box-shadow: 0 0 30px rgba(var(--primary-r), var(--primary-g), var(--primary-b), 0.8)!important;
}

.layout-mobile .skip-button {
    box-shadow: 0 0 30px rgba(var(--primary-r), var(--primary-g), var(--primary-b), 0.7)!important;
    padding: 10px 10px !important;
}

#skipIntro .btnSkipIntro {
    transition: 0.2s;
    border-radius: 100px !important;
    backdrop-filter: blur(var(--blur)) !important;
    background: rgba(30, 30, 30, 0.7) !important;
}
#skipIntro .btnSkipIntro:hover {
    transform: scale(1.05);
    background: var(--primary-accent-color) !important;
    box-shadow: 0 0 8px rgba(var(--primary-r), var(--primary-g), var(--primary-b), 0.6) !important;
}
#skipIntro .paper-icon-button-light:hover:not(:disabled) {
    color: #FFF !important;
}
#skipIntro .upNextContainer {
    padding: 0px !important;
}
#skipIntro .emby-button:focus {
    background: rgba(30, 30, 30, 0.7) !important;
    box-shadow: unset !important;
}

.sliderContainer:has(.mdl-slider-hoverthumb:not(:hover)) .sliderMarker {
    opacity: 0 !important;
    transition: 0.2s !important;
}
.sliderContainer:has(.mdl-slider-hoverthumb:hover) .sliderMarker {
    opacity: 1 !important;
    transition: 0.2s !important;
    height: 10px !important;
    transform: translate3d(0, 40%, 0) !important;
    -webkit-transform: translate3d(0, 40%, 0) !important;
    z-index: 10 !important;
}
.sliderMarker.watched {
    background-color: #FFFFFF90 !important;
}


.btnStartNow {
    background: var(--primary-accent-color) !important;
    color: var(--text-color) !important;
}

/* == InPlayerEpisodePreview Plugin (Desktop) == */
.layout-desktop #popupFocusContainer {
    padding: 10px !important;
    background: var(--secondary-background-transparent) !important;
    backdrop-filter: blur(var(--blur)) !important;
}
.layout-desktop #popupTitleContainer { margin: 0px !important; padding: 10px 0px !important; }
.layout-desktop #popupContentContainer .previewEpisodeDetails { position: unset !important; margin: 0px 0px 6px 10px !important; font-size: 13.5px !important; }
.layout-desktop #popupContentContainer .previewEpisodeTitle { font-size: 16.5px !important; }
.layout-desktop #popupContentContainer .listItem { padding: .25em .5em !important; }


/* ~~~~~~~~~~~~~~~~~~~~ SETTINGS & DASHBOARD ~~~~~~~~~~~~~~~~~~~~ */

.emby-input,
.emby-textarea,
.emby-select,
.paperList,
.subtitleappearance-preview {
    border-radius: var(--rounded-cards) !important;
}

.emby-input, .emby-textarea, .emby-select-withcolor {
    border: 0.1em solid var(--alt-accent-color) !important;
}

.emby-input, .emby-textarea, .paperList, .fab, .emby-select-withcolor, .visualCardBox, .emby-button.raised.button-alt  {
    background: var(--alt-accent-color) !important;
}

.emby-select option {
  background-color: rgba(var(--primary-r), var(--primary-g), var(--primary-b), 0.2);
  color: var(--text-color);
}

.emby-select option:checked {
  background-color: rgb(var(--primary-r), var(--primary-g), var(--primary-b));
}

.MuiPaper-root.MuiPaper-elevation.MuiPaper-elevation16.MuiDrawer-paper.MuiDrawer-paperAnchorLeft {
    background: var(--secondary-background-color) !important;
    border-top-right-radius: 30px !important;
    border-bottom-right-radius: 30px !important;
}

.css-1ilo2kq {
    backdrop-filter: blur(var(--blur));
    border-radius: var(--rounded-cards);
}

.button-submit,
.emby-select,
.btnRefresh,
#btnShutdown,
.raised,
.MuiToggleButton-root.MuiToggleButtonGroup-groupedHorizontal {
    border-radius: var(--rounded-cards) !important;
    background: var(--alt-accent-color);
}

.layout-desktop #userProfilePage .readOnlyContent div:not([class]), div[class=""] {
    align-items: initial !important;
}
.username {
    margin: 0px 0px 10px 10px !important;
    color: var(--primary-accent-color) !important;
}
.headerUsername, .sectionTitle {
    color: var(--primary-accent-color) !important;
    text-shadow: -1px 1px 15px #000000;
    font-weight: bold;
}
.sectionTitleTextButton>.material-icons {
    display: none;
}

.listItem-border {
    border: 0 !important;
}

.taskProgressInner {
    background: var(--primary-accent-color);
}

.layout-desktop fieldset.verticalSection-extrabottompadding,
.layout-tv fieldset.verticalSection-extrabottompadding {
    border-radius: var(--rounded-cards) !important;
    border-color: var(--secondary-background-transparent) !important;
    padding: 10px 35px 20px 35px !important;
}

.layout-mobile fieldset.verticalSection-extrabottompadding {
    border-radius: var(--rounded-cards) !important;
    border-color: var(--secondary-background-transparent) !important;
}

#itemDetailPage .verticalSection .itemsContainer.padded-right {
    padding-right: 0 !important;
}

.localnav {
    border-radius: 50px;
    background: var(--alt-accent-color) !important;
    width: fit-content !important;
}
.dashboardDocument a[data-role="button"] {
    background: none !important;
}
.dashboardDocument div[data-role="controlgroup"] a.ui-btn-active {
    background: var(--primary-accent-color) !important;
    border-radius: 100px !important;
}

.MuiListSubheader-root {
    font-weight: bolder;
    font-variant: petite-caps;
    font-size: large;
    font-family: 'Quicksand';
    padding-left: 2px;
}

.css-10dubda, .css-1xnox0e {
    background: var(--secondary-background-transparent) !important;
}
.css-1s2cwil {
    background: #228b2296 !important;
}
.css-1fl3wau {
    background-color: #8b0000d9;
}

#libraryDisplayPage,
#metadataImagesConfigurationPage,
#metadataNfoPage {
    margin-top: 40px !important;
}
#mediaLibraryPage {
    margin-top: 10px !important;
}
.activeDevices.itemsContainer {
    margin: 0px !important;
}

.detailTableBodyRow-shaded:nth-child(even) {
    background: var(--primary-background-transparent) !important;
}

.btnRevoke {
    background: #ff000069;
}

.layout-desktop summary {
    border-radius: 100px !important;
}
#intro_reqs, #edl, #silence, #support {
    padding-bottom: 10px !important;
}

.MuiAlert-message { color: #fff !important; }
.MuiDataGrid-root.MuiDataGrid-withBorderColor { border-radius: var(--rounded-cards) !important; }
.infoBanner { border-radius: var(--rounded-cards) !important; }
.MuiToggleButton-root.MuiToggleButtonGroup-groupedHorizontal { padding-inline: 15px !important; }

.MuiPaper-root.MuiDrawer-paperAnchorDockedLeft {
    border-right: none !important;
    width: 260px !important;
    border-top-right-radius: var(--rounded-cards) !important;
    border-bottom-right-radius: var(--rounded-cards)  !important;
}
.layout-mobile .MuiPaper-root.MuiDrawer-paperAnchorDockedLeft {
    background: var(--secondary-background-transparent) !important;
    width: 240px !important;
}
.MuiList-root.MuiList-subheader {
    padding-left: 10px !important;
}
.MuiList-subheader .MuiListItem-root.MuiListItem-gutters {
    margin-inline: auto !important;
}
.MuiList-subheader .MuiListItemButton-root.MuiListItemButton-gutters {
    border-radius: 18px !important;
    margin: 2px 0px !important;
    transition: .2s !important;
    height: 45px !important;
}
.MuiList-subheader .MuiListItemButton-root.MuiListItemButton-gutters:not(.Mui-selected) .MuiListItemIcon-root,
.MuiList-subheader .MuiListItemButton-root.MuiListItemButton-gutters:not(.Mui-selected) {
    color: #D1D1D1;
}
.MuiList-subheader .MuiListItemButton-root.MuiListItemButton-gutters:hover:not(.Mui-selected) {
    translate: 0 -3px !important;
    background: var(--secondary-background-transparent) !important;
}
.MuiListItemIcon-root.MuiSvgIcon-fontSizeMedium {
    color: inherit !important;
}
.MuiList-root:not(.MuiList-subheader) .MuiListItemButton-root.MuiListItemButton-gutters {
    padding: 20px 38px 10px 38px !important;
}
.MuiCollapse-root.MuiCollapse-vertical .MuiListItemButton-root.MuiListItemButton-gutters {
    width: 85% !important;
    margin-inline: auto !important;
    padding: 8px 16px !important;
    border-radius: 18px !important;
}


/* ~~~~~~~~~~~~~~~~~~~~ METADATA EDITOR ~~~~~~~~~~~~~~~~~~~~ */

.layout-desktop .editPageSidebar { width: 25vw !important; }
.layout-desktop .editPageInnerContent { width: 74vw !important; }

.jstree-default-large .jstree-node { line-height: 35px !important; }
.jstree-wholerow-hovered { background: var(--primary-background-transparent) !important; }
.jstree-children { margin-left: -10px !important; }

#editItemMetadataPage .btnHeaderSave {
    height: 40px !important;
    color: white !important;
}


/* ~~~~~~~~~~~~~~~~~~~~ MUSIC PLAYER & NOW PLAYING BAR ~~~~~~~~~~~~~~~~~~~~ */

.layout-desktop .appfooter .nowPlayingBarInfoContainer { margin-left: 10px !important; }

.volumeOsd {
    border-radius: var(--rounded-cards) !important;
    background: var(--secondary-background-transparent) !important;
}

.layout-desktop .nameContainer .musicParentName {
    margin-top: 18px !important;
    margin-right: 22px !important;
}

.layout-desktop .appfooter .nowPlayingBar { margin-top: 20px !important; }
.layout-desktop .appfooter .nowPlayingBar .nowPlayingBarPositionContainer { top: -15px !important; }

.play-button {
    border-radius: 15px !important;
    color: var(--primary-alt1) !important;
}


/* ~~~~~~~~~~~~~~~~~~~~ LIVE TV ~~~~~~~~~~~~~~~~~~~~ */

.lazy-image-fadein-fast.non-blurhashable.lazy.guideChannelImage {
    transition: filter 0.1s ease;
    z-index: 1;
}
.lazy-image-fadein-fast.non-blurhashable.lazy.guideChannelImage:hover {
    filter: drop-shadow(0 0 6px #676767);
}
.programCell-active.itemAction.programCell:hover .guideProgramName > .guideProgramNameText {
    transition: text-shadow 0.2s ease;
    text-shadow: 0 0 2px var(--primary-accent-color);
}
.channelsContainer button.itemAction.guide-channelHeaderCell:hover,
.channelsContainer button.itemAction.guide-channelHeaderCell.selected {
    background-color: var(--primary-accent-color) !important;
}

/* ~~~~~~~~~~~~~~~~~~~~ BACKDROP SUPPORT ~~~~~~~~~~~~~~~~~~~~ */

.layout-desktop #itemDetailPage .detailSectionContent,
.layout-desktop #itemDetailPage .trackSelections {
    background: var(--secondary-background-transparent) !important;
    backdrop-filter: blur(var(--blur)) !important;
}

.backgroundContainer.withBackdrop + div .mainDrawer
{
    background: var(--secondary-background-transparent) !important;
    backdrop-filter: blur(50px) !important;
    border-top-right-radius: 30px !important;
    border-bottom-right-radius: 30px !important;
}

@supports not selector(:has(*)) {
    .layout-desktop .backgroundContainer.withBackdrop + div .mainDrawer {
        background: transparent !important;
        backdrop-filter: blur(50px) !important;
        border-top-right-radius: 30px !important;
        border-bottom-right-radius: 30px !important;
    }
    .layout-desktop #itemDetailPage.noBackdropTransparency::after {
        position: fixed; content: ""; top: 0; left: 0; height: 100%;
        width: 250px;
        background: var(--secondary-background-color);
        z-index: 997;
    }
}

.layout-desktop:has(.backgroundContainer.withBackdrop) .navMenuOption-selected,
.layout-mobile:has(.backgroundContainer.withBackdrop) .navMenuOption-selected,
.layout-tv:has(.backgroundContainer.withBackdrop) .navMenuOption-selected {
    backdrop-filter: blur(var(--blur)) !important;
    background: var(--primary-background-transparent) !important;
    color: var(--text-color) !important;
    text-shadow: 0px 0px 5px var(--text-color);
}
.layout-desktop:has(.backgroundContainer.withBackdrop) .navMenuOption:hover:not(.navMenuOption-selected),
.layout-mobile:has(.backgroundContainer.withBackdrop) .navMenuOption:hover:not(.navMenuOption-selected),
.layout-tv:has(.backgroundContainer.withBackdrop) .navMenuOption:hover:not(.navMenuOption-selected) {
    background: var(--primary-background-transparent) !important;
    backdrop-filter: blur(var(--blur)) !important;
    color: var(--text-color) !important;
    text-shadow: 0px 0px 5px var(--text-color);
}

.layout-mobile .backdropImage,
.layout-tv .backdropImage {
    background-position: 50% !important;
    background-repeat: no-repeat !important;
    background-size: cover !important;
    bottom: 0 !important;
    contain: layout style !important;
    left: 0 !important;
    position: absolute !important;
    right: 0 !important;
    top: 0 !important;
    opacity: .3 !important;
    margin-top: 0rem !important;
    background-attachment: scroll !important;
}
.layout-mobile .backdropImageFadeIn,
.layout-tv .backdropImageFadeIn {
    -webkit-animation: backdrop-fadein .8s ease-in normal both !important;
    animation: backdrop-fadein .8s ease-in normal both !important
}
@keyframes backdrop-fadein {
    from { opacity: 0; } to { opacity: 1; }
}

@media (orientation: portrait) {
.layout-mobile #itemDetailPage:has(div.detailImageContainer .cardImageIcon.person) > .itemBackdrop {
    height: 20% !important;
}

.layout-mobile #itemDetailPage:has(.cardImageIcon.person) .mainDetailButtons {
    justify-content: flex-end !important;
}
}

.layout-desktop #itemDetailPage:has(div.detailImageContainer .cardImageIcon.person) > .itemBackdrop,
.layout-tv #itemDetailPage:has(div.detailImageContainer .cardImageIcon.person) > .itemBackdrop {
    height: 15% !important;
}

.layout-desktop #itemDetailPage:has(div.detailImageContainer .cardImageIcon.person) .mainDetailButtons,
.layout-tv #itemDetailPage:has(div.detailImageContainer .cardImageIcon.person) .mainDetailButtons {
    position: absolute !important;
    right: 6em !important;
    top: 6em !important;
}

/* ~~~~~~~~~~~~~~~~~~~~ RESPONSIVENESS & FIXES ~~~~~~~~~~~~~~~~~~~~ */

@media (max-width: 1599px) {
    .layout-desktop .headerTabs {
        margin-top: -65px !important;
    }
    .layout-desktop .headerRight {
        margin-right: 15px !important;
    }
    .layout-desktop .sectionTabs {
        width: auto !important;
        align-self: center !important;
    }
}

.layout-tv .sectionTabs { width: auto !important; }
.layout-tv .headerLeft { padding: 5px !important; }

.homeSectionsContainer {
    top: 69vh !important;
}

.genre, .plot, .rating-value, .rating-value span, .date, .age-rating span, .runTime, .featured-content, .button-container button, .play-text {
    font-family: inherit !important;
}


/* ~~~~~~~~~~~~~~~~~~~~ MOBILE & TV SPECIFIC STYLES ~~~~~~~~~~~~~~~~~~~~ */

.layout-mobile .detailPageWrapperContainer,
.layout-tv .detailPageWrapperContainer {
    padding-top: 1em !important;
}

.layout-mobile .cardOverlayButton-br,
.layout-tv .cardOverlayButton-br {
    display: none;
}

.layout-mobile .itemBackdrop,
.layout-tv .itemBackdrop {
    margin: 0 !important;
    opacity: .5 !important;
    height: 50vh !important;
    mask-image: linear-gradient(to top, rgba(0,0,0,0) 0%, rgba(0,0,0,1) 15%);
}

.layout-mobile .detailLogo,
.layout-tv .detailLogo {
    display: block !important;
    position: inherit !important;
    width: 70% !important;
    max-height: 15vh;
    margin: -8vh auto 1em auto;
    left: 15% !important;
    top: 15% !important;
    filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.7));
}

@media (orientation: landscape) {
    .layout-mobile .detailLogo,
    .layout-tv .detailLogo {
        width: 80% !important;
        left: 20% !important;
    }
}

.layout-mobile .mainDetailButtons,
.layout-tv .mainDetailButtons {
    justify-content: center;
    padding-top: 10px !important;
}
.layout-mobile .detailPageContent,
.layout-tv .detailPageContent {
    padding-right: 0 !important;
}


/* ~~~~~~~~~~~~~~~~~~~~ ITEM-TYPE SPECIFIC STYLES ~~~~~~~~~~~~~~~~~~~~ */

.mainDetailButtons:has(button.btnPlaystate[data-type="Book"]) button.btnPlay::after {
    content: "Read" !important;
    margin-top: 4px;
    margin-left: 4px;
    font-weight: bold;
}

.mainDetailButtons:has(button.btnPlaystate[data-type="Book"]) .material-icons.play_arrow:before{
    display:  none !important;
}

.mainDetailButtons:has(button.btnPlaystate[data-type="Book"]) .material-icons.play_arrow:after {
    content: "\1F56E" !important;
    margin-left: -8px;
}

#itemDetailPage:has(button.btnPlaystate[data-type="Book"]) .itemBackdrop {
    height: 15%;
}

 .layout-desktop #itemDetailPage:has(button.btnPlaystate[data-type="Book"])  .mainDetailButtons,
 .layout-tv #itemDetailPage:has(button.btnPlaystate[data-type="Book"])  .mainDetailButtons {
    backdrop-filter: none !important;
    margin-top: 9% !important;
}

#itemDetailPage:has(button.btnPlaystate[data-type="Book"]) .itemMiscInfo {
    margin-left: 11px !important;
    margin-top: 11px !important;
}